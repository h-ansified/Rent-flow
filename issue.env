{this error: "error":"A server error has occurred","message":"app is not a function"}




Reasoned
Thanks — that error ("A server error has occurred", "app is not a function") suggests a runtime problem in an Edge Function or server code (not RLS). To debug I can:

Fetch recent project logs to find the function or request causing the stack trace (recommended).
If you know which Edge Function or route is failing, I can fetch and review its code and help fix the runtime error.
Run a quick check of deployed Edge Functions to see likely suspects.
Which would you like? I recommend I first fetch recent API and Edge Function logs to locate the stack trace. Confirm and I'll pull logs for services "api" and "edge-function".

h-ansified
okay go




Reasoned
I'll fetch recent logs for the project's API and Edge Functions to locate the "app is not a function" stack trace. I'll retrieve logs for services "api" and "edge-function".


Ran get_logs

Reasoned

Ran get_logs
I fetched logs for "api" and "edge-function".

Findings:

API logs show many successful auth token requests — nothing obvious with "app is not a function".
Edge Function logs returned no entries in the last 24 hours.
Next steps:

The error likely comes from a deployed Edge Function or API route not emitting logs (maybe failing before logging) or from your app code. To narrow it down I can:
List deployed Edge Functions to check names and last deployment times.
Search your Edge Function code if you tell me the function name or paste its code.
Re-run logs filtered for a specific timestamp or function name if you have it.
Which would you like? I recommend I list deployed Edge Functions now.


Ran list_edge_functions
There are no Edge Functions deployed.

Since Edge Function logs are empty and none are deployed, the error "app is not a function" likely originates from your client or server code (e.g., Next.js API route, custom server) hitting an endpoint in the Supabase API or an external function. Common causes:

Exporting default object instead of function in an API route (e.g., Next.js expects default export to be a function).
Import mismatch: importing the result of a function call rather than the function.
Using a library expecting Node runtime in an Edge environment.
I can:

Search your repo for "app is not a function" usage or inspect a specific API route file if you provide it.
Give targeted fixes for common frameworks (Next.js, Express, Fastify). Tell me which framework/runtime you're using and where the error appears (browser console, server logs, endpoint path).